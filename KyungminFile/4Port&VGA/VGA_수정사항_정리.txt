[VGA 기능 추가 이후 수정사항 정리]
프로젝트: GSensorExamples
작성일: 2026-02-15
기준: 현재 소스 최종 상태(롤백 반영 완료)

1) VGA 기본 출력 기능 추가
- 파일: v/vga_tilt_dot.v (신규 생성)
- 기능:
  - 640x480@60Hz 타이밍 생성
  - 검은 배경 출력
  - 흰 점(커서) 출력
- 연결:
  - 파일: DE10_LITE_GSensor.v
  - 인스턴스: vga_tilt_dot u_vga_tilt_dot

2) 가속도 연동 확장 (X축 + Y축)
- 파일: v/spi_ee_config.v
- 변경:
  - Y축 데이터 출력 포트 추가
    - oY_DATA_L, oY_DATA_H
  - X/Y축 번갈아 읽는 로직 추가
- 파일: DE10_LITE_GSensor.v
- 변경:
  - data_y 와이어 추가
  - spi_ee_config의 Y축 출력 연결

3) 점 이동 방식 변경: 위치 제어 -> 속도 제어
- 파일: v/vga_tilt_dot.v
- 변경:
  - 이전: 기울기값을 점 좌표에 직접 매핑
  - 현재: 기울기값을 속도로 변환해 프레임마다 누적 이동
- 효과:
  - 기울기 크기에 따라 점 이동 속도가 달라짐

4) 정지 안정화(드리프트 방지)
- 파일: v/vga_tilt_dot.v
- 변경:
  - 초기 바이어스 캘리브레이션(초기 128프레임 평균)
  - 데드존(DEADZONE) 적용
  - 속도 0일 때 위치 업데이트 중단
- 효과:
  - 가속도/기울기 입력이 거의 없을 때 점이 정지 상태 유지

5) 축 방향 반전 조정
- 파일: v/vga_tilt_dot.v
- 상수:
  - X_INVERT = 1'b1
  - Y_INVERT = 1'b1
- 효과:
  - 사용자 보드 체감 방향에 맞게 상하/좌우 반전 적용

6) 버튼으로 궤적(그림) 그리기 기능
- 파일: v/vga_tilt_dot.v
- 변경:
  - trail_mem 메모리 추가(저해상도 그리드 기록)
  - iDRAW_EN=1일 때 현재 점 위치를 trail에 기록
  - 점 또는 trail 픽셀은 흰색 표시
- 파일: DE10_LITE_GSensor.v
- 변경:
  - iDRAW_EN 연결: !KEY[0] (KEY active-low 반영)

7) 리셋 버튼 재배치
- 파일: DE10_LITE_GSensor.v
- 변경:
  - 기존 리셋 입력 KEY[0] -> KEY[1]로 이동
- 이유:
  - KEY[0]를 그리기 버튼으로 사용하기 위해 분리

8) free-fall VGA 경고 기능 시도 후 롤백
- 수행 이력:
  - free-fall 감지 시 빨간 경고 오버레이/문구를 추가했으나,
    요청에 따라 해당 변경은 모두 제거함.
- 현재 상태:
  - free-fall 관련 포트/로직 없음
  - VGA는 점 + 궤적 기능만 유지

9) 현재 최종 동작 요약
- VGA: 검은 배경 + 흰 점
- 점 이동: 가속도(기울기) 기반 속도 제어
- 정지: 입력이 없으면 점 정지
- 방향: 현재 반전 설정 적용(X/Y 모두 invert=1)
- 그리기: KEY[0] 누르는 동안 경로 표시
- 초기화: KEY[1] 누르면 점/궤적/내부상태 리셋

10) 관련 핵심 파일
- DE10_LITE_GSensor.v
- v/spi_ee_config.v
- v/vga_tilt_dot.v
- DE10_LITE_GSensor.qsf (v/vga_tilt_dot.v 등록)
